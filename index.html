<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>通知タイムライン</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="app-container">
        <!-- ヘッダー部分 -->
        <div class="header">
            <div class="window-controls">
                <button class="control-btn settings-btn" onclick="openSettings()">⚙️</button>
                <button class="control-btn close-btn" onclick="closeWindow()">×</button>
            </div>
        </div>

        <!-- タイムライン表示部分（メイン） -->
        <div class="timeline-container">
            <div id="timeline" class="timeline">
                <!-- 動的に追加される通知アイテム -->
            </div>
        </div>

        <!-- 新しい通知を追加するフォーム（下部固定） -->
        <div class="add-alert-form">
            <div class="form-toggle">
                <button class="toggle-btn" onclick="toggleForm()">
                    <span class="toggle-icon">+</span>
                    <span class="toggle-text">新しい通知</span>
                </button>
            </div>
            
            <div class="form-content" id="form-content">
                <div class="form-compact">
                    <div class="form-row">
                        <input type="text" id="alert-content" placeholder="通知内容を入力..." class="input-compact">
                        <input type="date" id="alert-date" class="input-compact date-time-field">
                        <input type="time" id="alert-time" class="input-compact">
                    </div>
                    <div class="form-row">
                        <input type="url" id="alert-url" placeholder="URL（任意）" class="input-compact">
                        <select id="reminder-minutes" class="input-compact">
                            <option value="0">通知なし</option>
                            <option value="1">1分前</option>
                            <option value="3">3分前</option>
                            <option value="5">5分前</option>
                            <option value="10">10分前</option>
                            <option value="15">15分前</option>
                            <option value="30">30分前</option>
                            <option value="60">1時間前</option>
                        </select>
                    </div>
                    <div class="form-row">
                        <select id="repeat-type" class="input-compact" onchange="toggleRepeatOptions()">
                            <option value="none">繰り返しなし</option>
                            <option value="daily">毎日</option>
                            <option value="weekly">毎週</option>
                            <option value="weekdays">曜日指定</option>
                            <option value="monthly">毎月</option>
                            <option value="monthly-dates">毎月（日付指定）</option>
                        </select>
                    </div>
                    <div class="form-row weekday-options" id="weekday-options" style="display: none;">
                        <div class="weekday-selector">
                            <button type="button" class="weekday-btn" data-day="0">日</button>
                            <button type="button" class="weekday-btn" data-day="1">月</button>
                            <button type="button" class="weekday-btn" data-day="2">火</button>
                            <button type="button" class="weekday-btn" data-day="3">水</button>
                            <button type="button" class="weekday-btn" data-day="4">木</button>
                            <button type="button" class="weekday-btn" data-day="5">金</button>
                            <button type="button" class="weekday-btn" data-day="6">土</button>
                        </div>
                    </div>
                    <div class="form-row date-options" id="date-options" style="display: none;">
                        <div class="date-selector">
                            <div class="calendar-grid">
                                <button type="button" class="date-btn" data-date="1">1</button>
                                <button type="button" class="date-btn" data-date="2">2</button>
                                <button type="button" class="date-btn" data-date="3">3</button>
                                <button type="button" class="date-btn" data-date="4">4</button>
                                <button type="button" class="date-btn" data-date="5">5</button>
                                <button type="button" class="date-btn" data-date="6">6</button>
                                <button type="button" class="date-btn" data-date="7">7</button>
                                <button type="button" class="date-btn" data-date="8">8</button>
                                <button type="button" class="date-btn" data-date="9">9</button>
                                <button type="button" class="date-btn" data-date="10">10</button>
                                <button type="button" class="date-btn" data-date="11">11</button>
                                <button type="button" class="date-btn" data-date="12">12</button>
                                <button type="button" class="date-btn" data-date="13">13</button>
                                <button type="button" class="date-btn" data-date="14">14</button>
                                <button type="button" class="date-btn" data-date="15">15</button>
                                <button type="button" class="date-btn" data-date="16">16</button>
                                <button type="button" class="date-btn" data-date="17">17</button>
                                <button type="button" class="date-btn" data-date="18">18</button>
                                <button type="button" class="date-btn" data-date="19">19</button>
                                <button type="button" class="date-btn" data-date="20">20</button>
                                <button type="button" class="date-btn" data-date="21">21</button>
                                <button type="button" class="date-btn" data-date="22">22</button>
                                <button type="button" class="date-btn" data-date="23">23</button>
                                <button type="button" class="date-btn" data-date="24">24</button>
                                <button type="button" class="date-btn" data-date="25">25</button>
                                <button type="button" class="date-btn" data-date="26">26</button>
                                <button type="button" class="date-btn" data-date="27">27</button>
                                <button type="button" class="date-btn" data-date="28">28</button>
                                <button type="button" class="date-btn" data-date="29">29</button>
                                <button type="button" class="date-btn" data-date="30">30</button>
                                <button type="button" class="date-btn" data-date="31">31</button>
                            </div>
                        </div>
                    </div>
                    <div class="form-row">
                        <button class="add-btn-compact" onclick="addAlert()">追加</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 設定ウィンドウ -->
    <div class="settings-modal" id="settings-modal">
        <div class="settings-modal-content">
            <div class="settings-header">
                <h3>設定</h3>
                <button class="settings-close-btn" onclick="closeSettings()">×</button>
            </div>
            <div class="settings-body">
                <div class="settings-section">
                    <h4>ホットキー設定</h4>
                    <div class="settings-item">
                        <label for="timeline-hotkey">タイムラインウィンドウの表示/非表示</label>
                        <div class="hotkey-input-group">
                            <input type="text" id="timeline-hotkey" class="hotkey-input" readonly placeholder="クリックしてホットキーを設定してください">
                        </div>
                    </div>
                </div>
                
                <div class="settings-section">
                    <h4>起動設定</h4>
                    <div class="settings-item">
                        <label class="checkbox-label">
                            <input type="checkbox" id="auto-start-checkbox" class="settings-checkbox">
                            <span class="checkbox-custom"></span>
                            PC起動時に自動起動する
                        </label>
                    </div>
                </div>
                <div class="settings-footer">
                    <button class="save-settings-btn" onclick="saveSettings()">保存</button>
                    <button class="cancel-settings-btn" onclick="closeSettings()">キャンセル</button>
                </div>
            </div>
        </div>
    </div>

    <script src="renderer.js"></script>
</body>
</html>